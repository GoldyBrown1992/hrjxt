import React, { useState, useEffect, useRef } from 'react';

const NightclubEvent = () => {
  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
  const [isHovered, setIsHovered] = useState(false);
  const heroRef = useRef(null);

  useEffect(() => {
    const handleMouseMove = (e) => {
      if (heroRef.current) {
        const rect = heroRef.current.getBoundingClientRect();
        setMousePosition({
          x: ((e.clientX - rect.left) / rect.width) * 100,
          y: ((e.clientY - rect.top) / rect.height) * 100
        });
      }
    };

    const hero = heroRef.current;
    if (hero) {
      hero.addEventListener('mousemove', handleMouseMove);
      return () => hero.removeEventListener('mousemove', handleMouseMove);
    }
  }, []);

  const handleRSVP = () => {
    console.log('RSVP clicked - integrate with Shopify');
  };

  const handleVIP = () => {
    console.log('VIP booking clicked');
  };

  const handleShare = () => {
    if (navigator.share) {
      navigator.share({
        title: 'Night Vibes - Harjxt x Double Up Entertainment',
        text: 'Join us for the ultimate nightclub experience!',
        url: window.location.href,
      });
    } else {
      navigator.clipboard.writeText(window.location.href);
    }
  };

  return (
    <div className="min-h-screen bg-black text-white overflow-hidden">
      {/* Hero Section with Spotlights */}
      <div 
        ref={heroRef}
        className="relative h-screen flex flex-col justify-center items-center overflow-hidden cursor-pointer"
        onMouseEnter={() => setIsHovered(true)}
        onMouseLeave={() => setIsHovered(false)}
        style={{
          background: `
            radial-gradient(circle at ${mousePosition.x}% ${mousePosition.y}%, 
              rgba(255, 0, 64, 0.4) 0%, 
              rgba(255, 0, 64, 0.2) 30%, 
              transparent 70%),
            linear-gradient(135deg, #1a1a1a 0%, #000000 100%)
          `
        }}
      >
        {/* Left Spotlight */}
        <div 
          className={`absolute left-0 top-0 w-96 h-full transition-all duration-1000 ${
            isHovered ? 'opacity-80' : 'opacity-40'
          }`}
          style={{
            background: `
              conic-gradient(from 0deg at 0% 50%, 
                transparent 0deg, 
                rgba(255, 0, 64, 0.3) 30deg,
                rgba(255, 255, 255, 0.1) 45deg,
                rgba(255, 0, 64, 0.3) 60deg,
                transparent 90deg,
                transparent 360deg)
            `,
            transform: `rotate(${mousePosition.y * 0.1 - 5}deg)`,
            transformOrigin: 'left center'
          }}
        />

        {/* Right Spotlight */}
        <div 
          className={`absolute right-0 top-0 w-96 h-full transition-all duration-1000 ${
            isHovered ? 'opacity-80' : 'opacity-40'
          }`}
          style={{
            background: `
              conic-gradient(from 180deg at 100% 50%, 
                transparent 0deg, 
                rgba(255, 0, 64, 0.3) 30deg,
                rgba(255, 255, 255, 0.1) 45deg,
                rgba(255, 0, 64, 0.3) 60deg,
                transparent 90deg,
                transparent 360deg)
            `,
            transform: `rotate(${-mousePosition.y * 0.1 + 5}deg)`,
            transformOrigin: 'right center'
          }}
        />

        {/* Top Spotlight */}
        <div 
          className={`absolute top-0 left-1/2 w-full h-96 transition-all duration-700 ${
            isHovered ? 'opacity-60' : 'opacity-30'
          }`}
          style={{
            background: `
              conic-gradient(from 90deg at 50% 0%, 
                transparent 0deg, 
                rgba(255, 255, 255, 0.2) 20deg,
                rgba(255, 0, 64, 0.2) 40deg,
                rgba(255, 255, 255, 0.2) 60deg,
                transparent 80deg,
                transparent 360deg)
            `,
            transform: `translateX(-50%) rotate(${mousePosition.x * 0.05}deg)`,
            transformOrigin: 'center top'
          }}
        />

        {/* Animated Particles */}
        {[...Array(12)].map((_, i) => (
          <div
            key={i}
            className="absolute w-1 h-1 bg-white rounded-full opacity-60"
            style={{
              left: `${10 + (i * 7)}%`,
              animationDelay: `${i * 0.3}s`,
              animation: `particleFloat ${4 + (i % 3)}s ease-in-out infinite`
            }}
          />
        ))}

        {/* Main Content */}
        <div className="relative z-10 text-center px-6">
          <div 
            className={`transition-all duration-500 ${
              isHovered ? 'transform scale-105' : ''
            }`}
          >
            <h1 className="text-5xl md:text-7xl font-bold mb-4 tracking-tight">
              <span className="bg-gradient-to-r from-white to-red-400 bg-clip-text text-transparent">
                NIGHT VIBES
              </span>
            </h1>
            <p className="text-xl md:text-2xl font-light opacity-90">
              Harjxt √ó Double Up Entertainment
            </p>
          </div>
        </div>

        {/* Scroll Indicator */}
        <div className="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
          <div className="w-6 h-10 border-2 border-white/30 rounded-full flex justify-center">
            <div className="w-1 h-3 bg-white/50 rounded-full mt-2 animate-pulse" />
          </div>
        </div>
      </div>

      {/* Event Details - Partiful Style Layout */}
      <div className="max-w-md mx-auto px-4 pb-8 -mt-20 relative z-20">
        {/* Main Info Card */}
        <div className="bg-zinc-900/95 backdrop-blur-xl rounded-2xl p-6 mb-4 border border-zinc-800">
          <div className="space-y-4">
            <div className="flex items-center text-sm text-zinc-300">
              <span className="mr-3">üìÖ</span>
              <span>Saturday, October 12th ‚Ä¢ 10:00 PM - 3:00 AM</span>
            </div>
            <div className="flex items-center text-sm text-zinc-300">
              <span className="mr-3">üìç</span>
              <span>Downtown Nightclub, Vancouver</span>
            </div>
            <div className="flex items-center text-sm text-zinc-300">
              <span className="mr-3">üéµ</span>
              <span>Live DJ Performance by Harjxt</span>
            </div>
          </div>
        </div>

        {/* Description Card */}
        <div className="bg-zinc-900/95 backdrop-blur-xl rounded-2xl p-6 mb-4 border border-zinc-800">
          <h3 className="text-lg font-semibold mb-3 text-red-400">
            The Ultimate Nightclub Experience
          </h3>
          <p className="text-zinc-300 text-sm leading-relaxed mb-4">
            Experience Vancouver nightlife like never before. Join us for an exclusive evening 
            featuring Harjxt's electrifying performance with Double Up Entertainment.
          </p>
          
          <div className="space-y-2 text-sm text-zinc-400">
            <div className="flex items-center">
              <span className="w-1 h-1 bg-red-400 rounded-full mr-2"></span>
              <span>Exclusive live performance</span>
            </div>
            <div className="flex items-center">
              <span className="w-1 h-1 bg-red-400 rounded-full mr-2"></span>
              <span>Premium cocktail service</span>
            </div>
            <div className="flex items-center">
              <span className="w-1 h-1 bg-red-400 rounded-full mr-2"></span>
              <span>Professional photography</span>
            </div>
            <div className="flex items-center">
              <span className="w-1 h-1 bg-red-400 rounded-full mr-2"></span>
              <span>Upscale dress code required</span>
            </div>
          </div>
        </div>

        {/* RSVP Button */}
        <button
          onClick={handleRSVP}
          className="w-full bg-gradient-to-r from-red-600 to-red-500 text-white font-semibold py-4 px-6 rounded-2xl mb-3 transition-all duration-200 hover:from-red-500 hover:to-red-400 hover:scale-105 active:scale-95"
        >
          üé´ Reserve Your Spot
        </button>

        {/* Secondary Buttons */}
        <div className="space-y-2">
          <button
            onClick={handleVIP}
            className="w-full bg-zinc-800/80 backdrop-blur-sm text-white font-medium py-3 px-6 rounded-xl border border-zinc-700 transition-all duration-200 hover:bg-zinc-700/80 hover:scale-102"
          >
            ‚≠ê VIP Table Booking
          </button>
          <button
            onClick={handleShare}
            className="w-full bg-zinc-800/80 backdrop-blur-sm text-white font-medium py-3 px-6 rounded-xl border border-zinc-700 transition-all duration-200 hover:bg-zinc-700/80 hover:scale-102"
          >
            üì± Share Event
          </button>
        </div>

        {/* Host Info */}
        <div className="text-center mt-6 text-xs text-zinc-500">
          <p>Upon arrival, please contact our host for VIP access</p>
          <p className="mt-1">Presented by Double Up Entertainment</p>
        </div>
      </div>

      {/* Custom Animations */}
      <style jsx>{`
        @keyframes particleFloat {
          0%, 100% { 
            transform: translateY(0) scale(1); 
            opacity: 0.3; 
          }
          50% { 
            transform: translateY(-100px) scale(1.2); 
            opacity: 0.8; 
          }
        }
        
        .hover\\:scale-102:hover {
          transform: scale(1.02);
        }
        
        @media (max-width: 768px) {
          .hero-section h1 {
            font-size: 3rem;
          }
        }
      `}</style>
    </div>
  );
};

export default NightclubEvent;
